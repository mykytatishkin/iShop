@model IEnumerable<iShop.Models.ProductViewModel>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<form asp-action="Index" method="get" id="formcat">
    <select class="" id="cat" onchange="onChange(event)" name="id">
        <option value="-1">Select category</option>
        <option value="0">All categories</option>
        @foreach (Category item in @ViewBag.Categories)
        {
            <option value="@item.Id">@item.CategoryName</option>
        }
    </select>
</form>
<div style="width:100%;height:100%;overflow:scroll;display:flex;flex-wrap:wrap;" class="d-flex" id="pane">
    @foreach (var item in Model)
    {
        <div class="col-md-4 col-lg-4 col-sm-2 mb-3 px-2 align-items-stretch">
            <partial name="_ProductPartial" model="@item"  />
        </div>
    }
</div>

<script>
    function onChange(event){
        window.document.getElementById("formcat").submit();
    }
</script>

                        
